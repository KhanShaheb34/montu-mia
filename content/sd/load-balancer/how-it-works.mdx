---
title: ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ рж▓рзЛржб ржмрзНржпрж╛рж▓рзЗржирзНрж╕рж╛рж░?
tags:
  - Load Balancing Algorithms
  - Round Robin
  - Least Connections
  - IP Hash
  - Weighted Load Balancing
  - Request Distribution
  - Algorithms
---

ржЖржорж░рж╛ рждрзЛ ржЬрж╛ржирж▓рж╛ржо ржпрзЗ рж▓рзЛржб ржмрзНржпрж╛рж▓рзЗржирзНрж╕рж╛рж░ ржПржХржЯрж╛ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ рж░рж┐рж╕рж┐ржн ржХрж░рзЗ рж╕рзЗржЯрж╛ржХрзЗ 'ржлрж░рзЛржпрж╝рж╛рж░рзНржб' ржХрж░рзЗ ржжрзЗржпрж╝ рж╕рж╛рж░рзНржнрж╛рж░рзЗрж░ ржХрж╛ржЫрзЗред ржХрж┐ржирзНрждрзБ ржХрж╛ржЬржЯрж╛ ржпржд рж╕рж╣ржЬ ржоржирзЗ рж╣ржЪрзНржЫрзЗ, ржЖрж╕рж▓рзЗ рждрждржЯрж╛ ржирж╛ред

ржоржирзНржЯрзБ ржорж┐ржпрж╝рж╛ржБ ржнрж╛ржмрж▓рзЗржи, "ржЖржорж╛рж░ рждрзЛ рззрзжржЯрж╛ рж╕рж╛рж░рзНржнрж╛рж░ред ржПржЦржи ржкрзНрж░ржержо ржЗржЙржЬрж╛рж░ ржЖрж╕рж▓рзЗ рждрж╛ржХрзЗ ржХрзЛржи рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржкрж╛ржарж╛ржм? рзз ржиржорзНржмрж░ржЯрж╛рзЯ ржирж╛ржХрж┐ рззрзж ржиржорзНржмрж░ржЯрж╛рзЯ?"

ржПржЗ рж╕рж┐ржжрзНржзрж╛ржирзНржд ржирзЗржУрзЯрж╛рж░ ржЬржирзНржпржЗ рж▓рзЛржб ржмрзНржпрж╛рж▓рзЗржирзНрж╕рж╛рж░рзЗрж░ ржХрж┐ржЫрзБ ржирж┐рзЯржо ржмрж╛ **'ржЕрзНржпрж╛рж▓ржЧрж░рж┐ржжржо'** рж╕рзЗржЯ ржХрж░рж╛ ржерж╛ржХрзЗред ржоржирзНржЯрзБ ржорж┐ржпрж╝рж╛ржБ рждрж╛рж░ ржирзЛржЯржЦрж╛рждрж╛ржпрж╝ ржкрзЗржирзНрж╕рж┐рж▓ ржжрж┐ржпрж╝рзЗ ржжрж╛ржЧ ржХрзЗржЯрзЗ ржкржкрзБрж▓рж╛рж░ ржХрж┐ржЫрзБ ржЕрзНржпрж╛рж▓ржЧрж░рж┐ржжржо ржирзЛржЯ ржХрж░рзЗ ржирж┐рж▓рзЗржи:

## рж░рж╛ржЙржирзНржб рж░ржмрж┐ржи (Round Robin)

> рждрж╛рж╕ ржЦрзЗрж▓рж╛рж░ ржкржжрзНржзрждрж┐ ЁЯГП

ржПржЯрж╛ рж╣рж▓рзЛ рж▓рзЛржб ржмрзНржпрж╛рж▓рзЗржирзНрж╕рж┐ржВ ржЬржЧрждрзЗрж░ 'рж▓рзБржбрзБ ржЦрзЗрж▓рж╛'рж░ ржорждрзЛ рж╕рж╣ржЬред ржЖржорж░рж╛ ржмржирзНржзрзБрж░рж╛ ржорж┐рж▓рзЗ рждрж╛рж╕ ржЦрзЗрж▓рж╛рж░ рж╕ржорзЯ ржпрзЗржнрж╛ржмрзЗ ржХрж╛рж░рзНржб ржмрж┐рж▓рж┐ ржХрж░рж┐, ржПржХржЯрж╛ рждрзЛржорж╛ржХрзЗ, ржПржХржЯрж╛ ржЖржорж╛ржХрзЗ, ржПржХржЯрж╛ рждрж╛ржХрзЗ, ржарж┐ржХ рж╕рзЗржнрж╛ржмрзЗржЗ ржПржЯрж╛ ржХрж╛ржЬ ржХрж░рзЗред

ржкрзНрж░ржержо рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ -> рж╕рж╛рж░рзНржнрж╛рж░ рзз-ржП ржпрж╛ржмрзЗред
ржжрзНржмрж┐рждрзАржпрж╝ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ -> рж╕рж╛рж░рзНржнрж╛рж░ рзи-ржП ржпрж╛ржмрзЗред
...
ржжрж╢ржо рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ -> рж╕рж╛рж░рзНржнрж╛рж░ рззрзж-ржП ржпрж╛ржмрзЗред
ржПржЧрж╛рж░рзЛ ржиржорзНржмрж░ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржЖрж╕рж▓рзЗ? ржЖржмрж╛рж░ ржШрзБрж░рзЗ рж╕рж╛рж░рзНржнрж╛рж░ рзз-ржПрж░ ржХрж╛ржЫрзЗ ржпрж╛ржмрзЗред

**рж╕рзБржмрж┐ржзрж╛:**

- ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░рж╛ ржкрж╛ржирж┐рж░ ржорждрзЛ рж╕рж╣ржЬред
- рж╕ржм рж╕рж╛рж░рзНржнрж╛рж░ рж╕ржорж╛ржи ржЯрзНрж░рж╛ржлрж┐ржХ ржкрж╛рзЯред ржХрзЗржЙ ржмрж╕рзЗ ржерж╛ржХрзЗ ржирж╛ред

**ржЕрж╕рзБржмрж┐ржзрж╛:**

- **ржмрзЛржХрж╛ ржЕрзНржпрж╛рж▓ржЧрж░рж┐ржжржо:** ржП ржХрзЛржирзЛ ржЦрзЛржБржЬ ржирзЗржпрж╝ ржирж╛ рж╕рж╛рж░рзНржнрж╛рж░ржЯрж┐ ржмрзНржпрж╕рзНржд ржирж╛ржХрж┐ ржлрзНрж░рж┐ред рж╕рж╛рж░рзНржнрж╛рж░ рзз ржпржжрж┐ ржЖржЧрзЗрж░ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржкрзНрж░рж╕рзЗрж╕ ржХрж░рждрзЗ ржЧрж┐ржпрж╝рзЗ ржзрзБржБржХрждрзЗ ржерж╛ржХрзЗ, рж░рж╛ржЙржирзНржб рж░ржмрж┐ржи рждржмрзБржУ рждрж╛рж░ ржШрж╛ржбрж╝рзЗржЗ ржирждрзБржи рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржЪрж╛ржкрж╛ржмрзЗред
- ржоржирзНржЯрзБрж░ рж╕ржм рж╕рж╛рж░рзНржнрж╛рж░ ржпржжрж┐ рж╕ржорж╛ржи рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржирж╛ рж╣ржпрж╝ (ржпрзЗржоржи ржПржХржЯрж╛ рж╕рзБржкрж╛рж░ ржХржорзНржкрж┐ржЙржЯрж╛рж░ ржЖрж░ ржПржХржЯрж╛ рж▓рзНржпрж╛ржкржЯржк), рждржмрзЗ рж▓рзНржпрж╛ржкржЯржкржЯрж┐ рж▓рзЛржб ржирж┐рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛ ржХрж┐ржирзНрждрзБ рж╕рзБржкрж╛рж░ ржХржорзНржкрж┐ржЙржЯрж╛рж░ ржмрж╕рзЗ ржерж╛ржХржмрзЗред

![Load Balancer Round Robin](/images/sd/load-balancer/2.png)

## ржУржпрж╝рзЗржЯрзЗржб рж░рж╛ржЙржирзНржб рж░ржмрж┐ржи (Weighted Round Robin)

> ржпрж╛рж░ рж╢ржХрзНрждрж┐ ржмрзЗрж╢рж┐, рждрж╛рж░ ржХрж╛ржЬ ржмрзЗрж╢рж┐ ЁЯТк

ржоржирзНржЯрзБ ржорж┐ржпрж╝рж╛ржБ рж╣ржарж╛рзО ржоржирзЗ ржХрж░рж▓рзЗржи, "ржЖрж░рзЗ! ржЖржорж╛рж░ рждрзЛ ржПржХржЯрж╛ ржирждрзБржи ржжрж╛ржорзА рж╕рзБржкрж╛рж░ ржХржорзНржкрж┐ржЙржЯрж╛рж░ ржЖржЫрзЗ, ржЖрж░ ржПржХржЯрж╛ ржкрзБрж░рзЛржирзЛ рж▓рзНржпрж╛ржкржЯржк ржЖржЫрзЗред ржЖржорж┐ ржпржжрж┐ рж░рж╛ржЙржирзНржб рж░ржмрж┐ржи ржЪрж╛рж▓рж╛ржЗ, рждржмрзЗ рждрзЛ ржЖржорж╛рж░ рж╕рзБржкрж╛рж░ ржХржорзНржкрж┐ржЙржЯрж╛рж░рзЗрж░ рж▓рж╕!"

ржарж┐ржХ ржПржЗ рж╕ржорж╕рзНржпрж╛рж░ рж╕ржорж╛ржзрж╛ржи рж╣рж▓рзЛ 'ржУржпрж╝рзЗржЯрзЗржб рж░рж╛ржЙржирзНржб рж░ржмрж┐ржи'ред ржПржЦрж╛ржирзЗ ржЖржкржирж┐ ржмрж▓рзЗ ржжрж┐рждрзЗ ржкрж╛рж░рзЗржи ржХрзЛржи рж╕рж╛рж░рзНржнрж╛рж░рзЗрж░ ржХрзНрж╖ржорждрж╛ ржХрждред

- рж╕рзБржкрж╛рж░ ржХржорзНржкрж┐ржЙржЯрж╛рж░ (Weight 5) -> ржПржХрзЗ ржПржХржмрж╛рж░рзЗ рзлржЯрж╛ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржжрж╛ржУред
- рж▓рзНржпрж╛ржкржЯржк (Weight 1) -> ржПржХрзЗ рззржЯрж╛ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржжрж╛ржУред

ржПржнрж╛ржмрзЗ ржХрзНрж╖ржорждрж╛рж░ ржмрж┐ржЪрж╛рж░рзЗ ржХрж╛ржЬ ржнрж╛ржЧ ржХрж░рзЗ ржжрзЗржУржпрж╝рж╛ рж╣ржпрж╝ред

![Load Balancer Weighted Round Robin](/images/sd/load-balancer/3.png)

## рж▓рж┐рж╕рзНржЯ ржХрж╛ржирзЗржХрж╢ржи (Least Connection)

> ржмрзНржпрж╛ржВржХрзЗрж░ ржХрзНржпрж╛рж╢ ржХрж╛ржЙржирзНржЯрж╛рж░ ЁЯПж

ржПржЯрж╛ ржПржХржЯрзБ рж╕рзНржорж╛рж░рзНржЯ ржкржжрзНржзрждрж┐ред ржзрж░рзБржи ржЖржкржирж┐ ржмрзНржпрж╛ржВржХрзЗ ржмрж╛ рж╕рзБржкрж╛рж░рж╢ржкрзЗ ржЧрзЗржЫрзЗржиред рж╕рж╛ржоржирзЗ рзлржЯрж╛ ржХрж╛ржЙржирзНржЯрж╛рж░ред ржЖржкржирж┐ ржХрзЛржи рж▓рж╛ржЗржирзЗ ржжрж╛ржБржбрж╝рж╛ржмрзЗржи?
ржЕржмрж╢рзНржпржЗ ржпрзЗ рж▓рж╛ржЗржирзЗ ржорж╛ржирзБрж╖ рж╕ржмржЪрзЗржпрж╝рзЗ ржХржо, рждрж╛ржЗ ржирж╛?

рж▓рж┐рж╕рзНржЯ ржХрж╛ржирзЗржХрж╢ржи ржарж┐ржХ ржПржЗ ржХрж╛ржЬржЯрж╛ржЗ ржХрж░рзЗред рж▓рзЛржб ржмрзНржпрж╛рж▓рзЗржирзНрж╕рж╛рж░ рж╕ржмрж╕ржоржпрж╝ ржиржЬрж░ рж░рж╛ржЦрзЗ ржХрзЛржи рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржмрж░рзНрждржорж╛ржирзЗ ржХржпрж╝ржЯрж╛ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржкрзНрж░рж╕рзЗрж╕рж┐ржВ-ржП ржЖржЫрзЗред ржирждрзБржи рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржЖрж╕рж▓рзЗ рж╕рзЗ ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рзЗ ржХрзЛржи рж╕рж╛рж░рзНржнрж╛рж░ржЯрж┐ рж╕ржмржЪрзЗржпрж╝рзЗ рж░рж┐рж▓рж╛ржХрзНрж╕рзЗ ржЖржЫрзЗ (Connection ржХржо), ржПржмржВ рждрж╛рж░ ржХрж╛ржЫрзЗржЗ ржкрж╛ржарж┐ржпрж╝рзЗ ржжрзЗржпрж╝ред

**ржХржЦржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи?**

ржпржЦржи рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯржЧрзБрж▓рзЛрж░ ржкрзНрж░рж╕рзЗрж╕рж┐ржВ ржЯрж╛ржЗржо рж╕ржорж╛ржи ржирж╛ред ржпрзЗржоржи, ржХрзЛржирзЛ ржЗржЙржЬрж╛рж░ ржнрж┐ржбрж┐ржУ ржЖржкрж▓рзЛржб ржжрж┐ржЪрзНржЫрзЗ (ржЕржирзЗржХ рж╕ржоржпрж╝ рж▓рж╛ржЧржмрзЗ), ржЖржмрж╛рж░ ржХрзЗржЙ рж╢рзБржзрзБ ржЪрзНржпрж╛ржЯ ржХрж░ржЫрзЗ (ржХржо рж╕ржоржпрж╝ рж▓рж╛ржЧржмрзЗ)ред ржПрж╕ржм ржХрзНрж╖рзЗрждрзНрж░рзЗ рж▓рж┐рж╕рзНржЯ ржХрж╛ржирзЗржХрж╢ржи рж╕рзЗрж░рж╛ред

![Load Balancer Least Connection](/images/sd/load-balancer/4.png)

## ржЖржЗржкрж┐ рж╣рзНржпрж╛рж╢ (IP Hash)

> ржкрж░рж┐ржЪрж┐ржд рж░рж┐ржХрж╢рж╛ржУржпрж╝рж╛рж▓рж╛ ЁЯЫ║

ржорж╛ржЭрзЗржоржзрзНржпрзЗ ржЖржорж╛ржжрзЗрж░ ржПржоржи рж╣ржпрж╝ ржпрзЗ, ржЖржорж░рж╛ ржкрж░рж┐ржЪрж┐ржд рж░рж┐ржХрж╢рж╛ржУржпрж╝рж╛рж▓рж╛ ржмрж╛ ржирж╛ржкрж┐ржд ржЫрж╛ржбрж╝рж╛ ржЪрзБрж▓ ржХрж╛ржЯрж╛рждрзЗ ржЪрж╛ржЗ ржирж╛ред ржХрж╛рж░ржг рж╕рзЗ ржЖржорж╛ржХрзЗ ржЪрзЗржирзЗ, ржЖржорж╛рж░ ржкржЫржирзНржж ржЬрж╛ржирзЗред

рж╕ржлржЯржУрзЯрзНржпрж╛рж░рзЗрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗржУ рждрж╛ржЗред ржпржжрж┐ ржПржоржи ржжрж░ржХрж╛рж░ рж╣ржпрж╝ ржпрзЗ, 'ржХрж░рж┐ржо рж╕рж╛рж╣рзЗржм' ржкрзНрж░ржержоржмрж╛рж░ ржпрзЗ рж╕рж╛рж░рзНржнрж╛рж░рзЗ рж▓ржЧ-ржЗржи ржХрж░рзЗржЫрзЗржи, рждрж╛рж░ рж╕рзЗрж╢ржи ржмрж╛ рж╢ржкрж┐ржВ ржХрж╛рж░рзНржЯ ржУржЗ рж╕рж╛рж░рзНржнрж╛рж░рзЗржЗ ржЖржЫрзЗред ржкрж░рзЗрж░ржмрж╛рж░ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржХрж░рж▓рзЗ рждрж╛ржХрзЗ ржпрзЗржи ржЕржирзНржп рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржирж╛ ржкрж╛ржарж┐ржпрж╝рзЗ ржУржЗ ржкрзБрж░рзЛржирзЛ рж╕рж╛рж░рзНржнрж╛рж░рзЗржЗ ржкрж╛ржарж╛ржирзЛ рж╣ржпрж╝ред

ржЖржЗржкрж┐ рж╣рзНржпрж╛рж╢ ржЕрзНржпрж╛рж▓ржЧрж░рж┐ржжржо ржЗржЙржЬрж╛рж░рзЗрж░ ржЖржЗржкрж┐ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржжрзЗржЦрзЗ рждрж╛ржХрзЗ ржЪрж┐ржирзЗ рж░рж╛ржЦрзЗ ржПржмржВ ржкрзНрж░рждрж┐ржмрж╛рж░ рждрж╛ржХрзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╕рж╛рж░рзНржнрж╛рж░рзЗрж░ ржХрж╛ржЫрзЗржЗ ржкрж╛ржарж╛ржпрж╝ред ржПржХрзЗ **'рж╕рзНржЯрж┐ржХрж┐ рж╕рзЗрж╢ржи' (Sticky Session)**-ржУ ржмрж▓рж╛ рж╣ржпрж╝ред

> ЁЯУЭ **ржоржирзНржЯрзБ ржорж┐ржпрж╝рж╛ржБрж░ 'ржХрзБржЗржХ ржирзЛржЯ' - ржмрж╛ржХрж┐ржжрзЗрж░ржУ ржЪрж┐ржирзЗ рж░рж╛ржЦрж┐:**
>
> ржоржирзНржЯрзБ ржжрзЗржЦрж▓ ржмржЗрзЯрзЗрж░ ржкрж╛рждрж╛ржпрж╝ ржЖрж░ржУ ржХрж┐ржЫрзБ ржЕрзНржпрж╛рж▓ржЧрж░рж┐ржжржорзЗрж░ ржирж╛ржо рж▓рзЗржЦрж╛ред рж╕ржмржЧрзБрж▓рзЛрж░ ржбрж┐ржЯрзЗржЗрж▓рж╕ ржирж╛ ржкрзЬрж▓рзЗржУ рж╕рзЗ ржПржХ рж▓рж╛ржЗржирзЗ ржПржжрзЗрж░ ржХрж╛ржЬржЧрзБрж▓рзЛ ржЯрзБржХрзЗ рж░рж╛ржЦрж▓:
>
> - **рж▓рж┐рж╕рзНржЯ рж░рзЗрж╕ржкржирзНрж╕ ржЯрж╛ржЗржо (Least Response Time):** ржЕржирзЗржХржЯрж╛ 'ржХрзБржЗржЬ ржкрзНрж░рждрж┐ржпрзЛржЧрж┐рждрж╛'рж░ ржорждрзЛред ржпрзЗ рж╕рж╛рж░рзНржнрж╛рж░ рж╕ржмрж╛рж░ ржЖржЧрзЗ ржЙрждрзНрждрж░ (TTFB) ржжрж┐рждрзЗ ржкрж╛рж░рзЗ, рж▓рзЛржб ржмрзНржпрж╛рж▓рзЗржирзНрж╕рж╛рж░ ржирждрзБржи ржХрж╛ржЬ рждрж╛рж░ ржХрж╛ржЫрзЗржЗ ржкрж╛ржарж╛ржпрж╝ред рж╕рзНржкрж┐ржбржЗ ржПржЦрж╛ржирзЗ ржЖрж╕рж▓ред
> - **рж▓рж┐рж╕рзНржЯ ржмрзНржпрж╛ржирзНржбржЙржЗрже (Least Bandwidth):** ржпрзЗ рж╕рж╛рж░рзНржнрж╛рж░ ржмрж░рзНрждржорж╛ржирзЗ рж╕ржмржЪрзЗржпрж╝рзЗ ржХржо ржбрж╛ржЯрж╛ (Traffic in Mbps) ржЖржжрж╛ржи-ржкрзНрж░ржжрж╛ржи ржХрж░ржЫрзЗ, рждрж╛ржХрзЗ ржмрзЗржЫрзЗ ржирзЗржУржпрж╝рж╛ рж╣ржпрж╝ред
> - **рж░тАНрзНржпрж╛ржирзНржбржо (Random):** ржХрзЛржирзЛ ржЪрж┐ржирзНрждрж╛ржнрж╛ржмржирж╛ ржирзЗржЗ! ржЪрзЛржЦ ржмржирзНржз ржХрж░рзЗ рж▓ржЯрж╛рж░рж┐рж░ ржорждрзЛ ржпрзЗржХрзЛржирзЛ ржПржХржЯрж╛ рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржЗржЙржЬрж╛рж░ржХрзЗ ржкрж╛ржарж┐рзЯрзЗ ржжрзЗржУрзЯрж╛ред рж▓рж╛ржХ ржнрж╛рж▓рзЛ рж╣рж▓рзЗ ржлрж╛рж╕рзНржЯ рж╕рж╛рж░рзНржнрж╛рж░, ржЦрж╛рж░рж╛ржк рж╣рж▓рзЗ рж╕рзНрж▓рзЛ рж╕рж╛рж░рзНржнрж╛рж░! ЁЯО▓
> - **ржХрж╛рж╕рзНржЯржо (Custom):** ржпржЦржи ржЙржкрж░рзЗрж░ ржХрзЛржирзЛ ржирж┐рзЯржорзЗржЗ ржоржи ржнрж░рзЗ ржирж╛, рждржЦржи ржЗржЮрзНржЬрж┐ржирж┐рзЯрж╛рж░рж░рж╛ ржирж┐ржЬрзЗржжрзЗрж░ ржкрзНрж░рзЯрзЛржЬржи ржорждрзЛ ржирж┐рзЯржо ржмрж╛ржирж┐рзЯрзЗ ржирзЗрзЯ (ржпрзЗржоржи: рж╢рзБржзрзБ ржкрзНрж░рж┐ржорж┐рзЯрж╛ржо ржЗржЙржЬрж╛рж░рж░рж╛ ржлрж╛рж╕рзНржЯ рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржпрж╛ржмрзЗ)ред
